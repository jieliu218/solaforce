!function(){function t(e){var i=e.document;!function(t){"use strict";var e,i,n,s,a,o={".js":[],".json":[],".css":[],".html":[]},r="function"==typeof require?require:null;return s=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},a=function(t,e,i){var n,s;if("function"==typeof t[e+i])return e+i;for(n=0;s=o[i][n];++n)if("function"==typeof t[e+s])return e+s;return null},e=function(t,n,o,r,u,l){var d,c,h,f,p,m;for(o=o.split(/[\\\/]/),d=o.pop(),"."!==d&&".."!==d||(o.push(d),d="");null!=(c=o.shift());)if(c&&"."!==c&&(".."===c?(t=n.pop(),l=l.slice(0,l.lastIndexOf("/"))):(n.push(t),t=t[c],l+="/"+c),!t))throw s(r);if(d&&"function"!=typeof t[d]&&(m=a(t,d,".js"),m||(m=a(t,d,".json")),m||(m=a(t,d,".css")),m||(m=a(t,d,".html")),m?d=m:2!==u&&"object"==typeof t[d]&&(n.push(t),t=t[d],l+="/"+d,d="")),!d)return 1!==u&&t[":mainpath:"]?e(t,n,t[":mainpath:"],r,1,l):e(t,n,"index",r,2,l);if(p=t[d],!p)throw s(r);return p.hasOwnProperty("module")?p.module.exports:(h={},p.module=f={exports:h,id:l+"/"+d},p.call(h,h,f,i(t,n,l)),f.exports)},n=function(i,n,a,o){var u,l=a,d=a.charAt(0),c=0;if("/"===d){if(l=l.slice(1),i=t["/"],!i){if(r)return r(a);throw s(a)}o="/",n=[]}else if("."!==d){if(u=l.split("/",1)[0],i=t[u],!i){if(r)return r(a);throw s(a)}o=u,n=[],l=l.slice(u.length+1),l||(l=i[":mainpath:"],l?c=1:(l="index",c=2))}return e(i,n,l,a,c,o)},(i=function(t,e,i){return function(s){return n(t,[].concat(e),s,i)}})(t,[],"")}({"testcafe-phoenix":{src:{client:{ui:{cursor:{"iframe-cursor.js":function(t,i,n){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=n("../deps/hammerhead"),o=s(a),r=n("../deps/testcafe-core"),u=n("./messages"),l=s(u),d=o["default"].utils.browser,c=d.isIE?1:0;t["default"]={move:function(t,i){var n={cmd:l["default"].moveRequest,x:t+c,y:i+c};return(0,r.sendRequestToFrame)(n,l["default"].moveResponse,e.parent)},leftButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].leftButtonDownRequest},l["default"].leftButtonDownResponse,e.parent)},rightButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].rightButtonDownRequest},l["default"].rightButtonDownResponse,e.parent)},buttonUp:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].buttonUpRequest},l["default"].buttonUpResponse,e.parent)}},i.exports=t["default"]},"index.js":function(t,e,n){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=n("./../deps/hammerhead"),o=s(a),r=n("./../deps/testcafe-core"),u=s(r),l=n("./messages"),d=s(l),c=o["default"].Promise,h=o["default"].shadowUI,f=o["default"].utils.browser,p=o["default"].utils.featureDetection,m=o["default"].eventSandbox.message,g=u["default"].styleUtils,v=u["default"].positionUtils,_="cursor",E="touch",y="l-mouse-down",C="r-mouse-down",w=[y,C].join(" ");m.on(m.SERVICE_MSG_RECEIVED_EVENT,function(t){var e=t.message;switch(e.cmd){case d["default"].moveRequest:var i=v.getIframePointRelativeToParentFrame({x:e.x,y:e.y},t.source);b.move(i.x,i.y).then(function(){return m.sendServiceMsg({cmd:d["default"].moveResponse},t.source)});break;case d["default"].leftButtonDownRequest:b.leftButtonDown().then(function(){return m.sendServiceMsg({cmd:d["default"].leftButtonDownResponse},t.source)});break;case d["default"].rightButtonDownRequest:b.rightButtonDown().then(function(){return m.sendServiceMsg({cmd:d["default"].rightButtonDownResponse},t.source)});break;case d["default"].buttonUpRequest:b.buttonUp().then(function(){return m.sendServiceMsg({cmd:d["default"].buttonUpResponse},t.source)})}});var b={cursorElement:null,x:50,y:50,pointerOffsetX:0,pointerOffsetY:0,_createElement:function(){this.cursorElement=i.createElement("div"),h.addClass(this.cursorElement,_),p.isTouchDevice&&!f.isIE&&(h.addClass(this.cursorElement,E),this.pointerOffsetX=Math.ceil(g.getWidth(this.cursorElement)/2),this.pointerOffsetY=Math.ceil(g.getHeight(this.cursorElement)/2)),h.getRoot().appendChild(this.cursorElement)},isVisible:function(){return this.cursorElement&&"hidden"!==g.get(this.cursorElement,"visibility")},hide:function(){this.cursorElement||this._createElement(),g.set(this.cursorElement,"visibility","hidden")},show:function(){this.cursorElement||this._createElement(),g.set(this.cursorElement,"visibility","")},move:function(t,e){return this.x=t,this.y=e,this.cursorElement||this._createElement(),g.set(this.cursorElement,{left:this.x-this.pointerOffsetX+"px",top:this.y-this.pointerOffsetY+"px"}),c.resolve()},leftButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),h.addClass(this.cursorElement,y),c.resolve()},rightButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),h.addClass(this.cursorElement,C),c.resolve()},buttonUp:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,w),c.resolve()}};t["default"]=b,e.exports=t["default"]},"messages.js":function(t,e,i){t.__esModule=!0,t["default"]={moveRequest:"ui|cursor|move|request",leftButtonDownRequest:"ui|cursor|leftbuttondown|request",rightButtonDownRequest:"ui|cursor|rightbuttondown|request",buttonUpRequest:"ui|cursor|buttonup|request",moveResponse:"ui|cursor|move|response",leftButtonDownResponse:"ui|cursor|leftbuttondown|response",rightButtonDownResponse:"ui|cursor|rightbuttondown|response",buttonUpResponse:"ui|cursor|buttonup|response"},e.exports=t["default"]}},deps:{"hammerhead.js":function(t,i,n){t.__esModule=!0,t["default"]=e["%hammerhead%"],i.exports=t["default"]},"testcafe-core.js":function(t,i,n){t.__esModule=!0,t["default"]=e["%testCafeCore%"],i.exports=t["default"]}},"index.js":function(i,n,s){function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var r=s("./deps/hammerhead"),u=o(r),l=s("./deps/testcafe-core"),d=o(l),c=s("./select-element"),h=a(c),f=s("./modal-background"),p=a(f),m=s("./progress-panel"),g=o(m),v=s("./status-bar"),_=o(v),E=s("./status-bar/iframe-status-bar"),y=o(E),C=s("./cursor"),w=o(C),b=s("./cursor/iframe-cursor"),x=a(b),S=u["default"].Promise,B=u["default"].eventSandbox.message,I=d["default"].sendRequestToFrame,T="ui|hide|request",R="ui|hide|response",D="ui|show|request",M="ui|show|response";B.on(B.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===T?(u["default"].shadowUI.getRoot().style.visibility="hidden",B.sendServiceMsg({cmd:R},t.source)):t.message.cmd===D&&(u["default"].shadowUI.getRoot().style.visibility="",B.sendServiceMsg({cmd:M},t.source))}),i.cursorUI=w["default"],i.iframeCursorUI=x,i.selectElement=h,i.modalBackground=p,i.ProgressPanel=g["default"],i.StatusBar=_["default"],i.IframeStatusBar=y["default"],i.get=s,i.hide=function(t){return t?I({cmd:T},R,e.top):(u["default"].shadowUI.getRoot().style.visibility="hidden",S.resolve())},i.show=function(t){return t?I({cmd:D},M,e.top):(u["default"].shadowUI.getRoot().style.visibility="",S.resolve())},Object.defineProperty(e,"%testCafeUI%",{enumerable:!1,configurable:!1,writable:!1,value:i}),u["default"].on(u["default"].EVENTS.evalIframeScript,function(e){return t(e.iframe.contentWindow,!0)})},"modal-background.js":function(t,n,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=E.getRoot();R=i.createElement("div"),t.appendChild(R),E.addClass(R,x),D=i.createElement("div"),D.textContent=b,t.appendChild(D),E.addClass(D,S),M=i.createElement("div"),w.set(M,"visibility","hidden"),t.appendChild(M),E.addClass(M,T)}function r(){var t=w.getHeight(e),i=w.getWidth(e),n=!w.hasDimensions(D);n&&(w.set(D,"visibility","hidden"),w.set(D,"display","block")),w.set(D,{left:Math.max((i-w.getWidth(D))/2,0)+"px",top:Math.max((t-w.getHeight(D))/2,0)+"px"}),n&&(w.set(D,"display","none"),w.set(D,"visibility",""))}function u(){var t=function(){var t=w.getHeight(e),i=w.getWidth(e);w.set(R,"width",i+"px"),w.set(R,"height",t+"px"),w.set(M,{left:Math.round((i-w.getWidth(M))/2)+"px",top:Math.round((t-w.getHeight(M))/2)+"px"})};t(),C.bind(e,"resize",t)}function l(){o(),u(),r(),W=!0}function d(){var t=!1,n=function(){l(),w.set(R,"opacity",I),w.set(R,"display","block"),w.set(D,"display","block"),t=!0},s=function a(){t||(i.body?n():y.setTimeout.call(e,a,0))};s(),C.documentReady().then(function(){t||n()})}function c(t){W||l(),w.set(R,"opacity",t?0:B),w.set(R,"display","block")}function h(){W&&(w.set(D,"display","none"),w.set(R,"display","none"))}function f(){w.set(M,"visibility","visible")}function p(){w.set(M,"visibility","hidden")}t.__esModule=!0,t.initAndShowLoadingText=d,t.show=c,t.hide=h,t.showLoadingIcon=f,t.hideLoadingIcon=p;var m=s("./deps/hammerhead"),g=a(m),v=s("./deps/testcafe-core"),_=a(v),E=g["default"].shadowUI,y=g["default"].nativeMethods,C=_["default"].eventUtils,w=_["default"].styleUtils,b="Loading page...",x="modal-background",S="loading-text",B=.7,I=.8,T="loading-icon",R=null,D=null,M=null,W=!1},"progress-panel":{"index.js":function(t,n,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("../deps/hammerhead"),u=a(r),l=s("../deps/testcafe-core"),d=a(l),c=s("./progress-bar"),h=a(c),f=u["default"].shadowUI,p=u["default"].nativeMethods,m=d["default"].eventUtils,g=d["default"].styleUtils,v="progress-panel",_="title",E="content",y=100,C=10,w=300,b=200,x=600,S=1e3,B=function(){function t(){var e=this;o(this,t),this.startTime=null,this.openingTimeout=null,this.updateInterval=null,this.animationInterval=null,this.panelDiv=i.createElement("div"),f.getRoot().appendChild(this.panelDiv),this.titleDiv=i.createElement("div"),this.panelDiv.appendChild(this.titleDiv),this.contentDiv=i.createElement("div"),this.panelDiv.appendChild(this.contentDiv),f.addClass(this.panelDiv,v),f.addClass(this.titleDiv,_),f.addClass(this.contentDiv,E),t._showAtWindowCenter(this.panelDiv),this.progressBar=new h["default"](this.contentDiv),this.disposePanel=function(){return t._showAtWindowCenter(e.panelDiv)}}return t._getInvisibleElementProperty=function(t,e){var i="none"===g.get(t,"display");i&&g.set(t,"display","block");var n=t[e];return i&&g.set(t,"display","none"),n},t._showAtWindowCenter=function(i){var n=t._getInvisibleElementProperty(i,"offsetHeight"),s=t._getInvisibleElementProperty(i,"offsetWidth"),a=Math.round(g.getHeight(e)/2-n/2),o=Math.round(g.getWidth(e)/2-s/2);g.set(i,{left:o+"px",top:a+"px"})},t.prototype._setCurrentProgress=function(){var t=Math.round((Date.now()-this.startTime)/this.maxTimeout*100);this.progressBar.setValue(t)},t.prototype._setSuccess=function(t){this.progressBar.setSuccess(t)},t.prototype._stopAnimation=function(){p.clearInterval.call(e,this.animationInterval)},t.prototype._animate=function(t,i,n,s){var a=this,o=Date.now(),r=n?0:1,u=0,l=0,d=0;n&&(g.set(t,"opacity",r),g.set(t,"display","block")),this._stopAnimation(),this.animationInterval=p.setInterval.call(e,function(){u=Date.now()-o,l=Math.min(u/i,1),d=.5-Math.cos(l*Math.PI)/2,g.set(t,"opacity",r+(n?d:-d)),1===l&&(a._stopAnimation(),s&&s())},C)},t.prototype._showPanel=function(){m.bind(e,"resize",this.disposePanel),this._animate(this.panelDiv,b,!0)},t.prototype._hidePanel=function(t){var i=this;this.startTime=null,m.unbind(e,"resize",this.disposePanel),this._animate(this.panelDiv,t?0:x,!1,function(){return g.set(i.panelDiv,"display","none")})},t.prototype.show=function(t,i){var n=this;this.startTime=Date.now(),this.maxTimeout=i,this.titleDiv.textContent=t,this._setSuccess(!1),this.openingTimeout=p.setTimeout.call(e,function(){n.openingTimeout=null,n._setCurrentProgress(),n._showPanel(),n.updateInterval=p.setInterval.call(e,function(){return n._setCurrentProgress()},y)},w)},t.prototype.close=function(t){var i=this;t&&this._setSuccess(!0),this.openingTimeout&&(p.clearTimeout.call(e,this.openingTimeout),this.openingTimeout=null),this.updateInterval&&(p.clearInterval.call(e,this.updateInterval),this.updateInterval=null),t?this.startTime&&Date.now()-this.startTime<S?p.setTimeout.call(e,function(){p.setTimeout.call(e,function(){return i._hidePanel(!1)},b)},y):p.setTimeout.call(e,function(){return i._hidePanel(!1)},b):this._hidePanel(!0)},t}();t["default"]=B,n.exports=t["default"]},"progress-bar.js":function(t,e,n){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n("../deps/hammerhead"),r=s(o),u=n("../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=l["default"].styleUtils,h="progress-bar",f="value",p="success",m=function(){function t(e){a(this,t),this.containerElement=i.createElement("div"),this.valueElement=i.createElement("div"),e.appendChild(this.containerElement),this.containerElement.appendChild(this.valueElement),d.addClass(this.containerElement,h),d.addClass(this.valueElement,f)}return t.prototype.setValue=function(t){t="number"!=typeof t?0:Math.min(Math.max(t,0),100),c.set(this.valueElement,"width",t+"%")},t.prototype.setSuccess=function(t){t?d.addClass(this.containerElement,p):d.removeClass(this.containerElement,p)},t}();t["default"]=m,e.exports=t["default"]}},"select-element.js":function(t,n,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t){(t.target||t.srcElement)===q||R.containsElement(q,t.target)||R.containsElement(j,t.target)||h()}function r(t,e){var i=q.selectedIndex,n=q.getElementsByTagName("option")[t],s=!e&&t!==i;s&&!x.isIE&&(q.selectedIndex=t),x.isFirefox||x.isIE||!s||(I.input(q),I.change(q)),(x.isFirefox||x.isIE)&&I.mousedown(x.isFirefox?n:q),S.isTouchDevice||I.mouseup(x.isFirefox?n:q),(x.isFirefox||x.isIE)&&s&&(x.isIE&&(q.selectedIndex=t),x.isIE||I.input(q),I.change(q)),S.isTouchDevice||I.click(x.isFirefox||x.isIE?n:q),e||h()}function u(t,e){var n=i.createElement("div"),s=t.disabled||"optgroup"===R.getTagName(t.parentElement)&&t.parentElement.disabled;n.textContent=t.text,e.appendChild(n),b.addClass(n,U),s&&(b.addClass(n,P),D.set(n,"color",D.get(t,"color"))),s&&x.isWebKit?M.bind(n,"click",function(){return!1}):M.bind(n,"click",function(){var t=W.indexOf(L,this);r(t,s)}),L.push(n)}function l(t,e){var n=i.createElement("div");n.textContent=t.label||" ",e.appendChild(n),b.addClass(n,V),n.disabled&&(b.addClass(n,P),D.set(n,"color",D.get(t,"color"))),d(t.children,n),F.push(n)}function d(t,e){for(var i=0;i<t.length;i++)R.isOptionElement(t[i])?u(t[i],e):"optgroup"===R.getTagName(t[i])&&l(t[i],e)}function c(t){var n=t.children;if(n.length){if(q){var s=t===q;if(h(),s)return}q=t,j=i.createElement("div"),b.getRoot().appendChild(j),b.addClass(j,A),d(n,j),B.setTimeout.call(e,function(){M.bind(i,"mousedown",o)},0),D.set(j,{position:"absolute",fontSize:D.get(q,"fontSize"),fontFamily:D.get(q,"fontFamily"),minWidth:D.getWidth(q)+"px",left:T.getOffsetPosition(q).left+"px",height:R.getSelectVisibleChildren(t).length>O?D.getOptionHeight(t)*O:""});var a=T.getOffsetPosition(q).top,r=D.getHeight(j),u=a+D.getHeight(q)+2;if(u+r>D.getScrollTop(e)+D.getHeight(e)){var l=a-3-r;l>=D.getScrollTop(e)&&(u=l)}D.set(j,"top",u+"px")}}function h(){R.remove(j),M.unbind(i,"mousedown",o),j=null,q=null,L=[],F=[]}function f(t){return t?t===q:!!q}function p(t){var e="optgroup"===R.getTagName(t),i=e?R.getElementIndexInParent(q,t):R.getElementIndexInParent(q,t);return e?F[i]:L[i]}function m(t){var e=R.getSelectParent(t);if(e){var i=D.getSelectElementSize(e),n=D.getOptionHeight(e),s=0,a=Math.max(D.getScrollTop(e)/n,0),o=a+i-1,r=R.getChildVisibleIndex(e,t);r<a?(s=n*(a-r),D.setScrollTop(e,Math.max(D.getScrollTop(e)-s,0))):r>o&&(s=n*(r-o),D.setScrollTop(e,D.getScrollTop(e)+s))}}function g(t){var e=R.getSelectParent(t);if(!e)return{x:0,y:0};var i=D.getOptionHeight(e),n=T.getElementRectangle(t);return{x:Math.round(n.left+n.width/2),y:Math.round(n.top+i/2)}}function v(t,e){var i=D.getSelectElementSize(t),n=!D.hasDimensions(b.select("."+A)[0]);if(/down|up/.test(e)||!x.isIE&&(i<=1||x.isFirefox)&&(n||x.isFirefox)&&/left|right/.test(e)){for(var s=t.querySelectorAll("option"),a=[],o=0;o<s.length;o++){var r=s[o].parentElement;s[o].disabled||"optgroup"===R.getTagName(r)&&r.disabled||a.push(s[o])}var u=W.indexOf(a,s[t.selectedIndex]),l=u+(/down|right/.test(e)?1:-1);l>=0&&l<a.length&&(t.selectedIndex=W.indexOf(s,a[l]),x.isIE||I.input(t),I.change(t))}}function _(t){var e=R.getSelectParent(t);if(!e)return!0;var i=f(e),n=D.getSelectElementSize(e);return i||n>1}t.__esModule=!0,t.expandOptionList=c,t.collapseOptionList=h,t.isOptionListExpanded=f,t.getEmulatedChildElement=p,t.scrollOptionListByChild=m,t.getSelectChildCenter=g,t.switchOptionsByKeys=v,t.isOptionElementVisible=_;var E=s("./deps/hammerhead"),y=a(E),C=s("./deps/testcafe-core"),w=a(C),b=y["default"].shadowUI,x=y["default"].utils.browser,S=y["default"].utils.featureDetection,B=y["default"].nativeMethods,I=y["default"].eventSandbox.eventSimulator,T=w["default"].positionUtils,R=w["default"].domUtils,D=w["default"].styleUtils,M=w["default"].eventUtils,W=w["default"].arrayUtils,A="tcOptionList",V="tcOptionGroup",U="tcOption",P="disabled",O=x.isIE?30:20,q=null,j=null,F=[],L=[]},"status-bar":{"iframe-status-bar.js":function(t,i,n){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}t.__esModule=!0;var u=n("./../deps/hammerhead"),l=s(u),d=n("./../deps/testcafe-core"),c=s(d),h=n("./messages"),f=s(h),p=n("./index"),m=s(p),g=c["default"].sendRequestToFrame,v=l["default"].eventSandbox.message,_=function(t){function i(){return a(this,i),o(this,t.call(this))}return r(i,t),i.prototype.showWaitingElementStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingElement,timeout:t},e.top)},i.prototype.hideWaitingElementStatus=function(t){var i={cmd:f["default"].endWaitingElementRequest,waitingSuccess:t};return g(i,f["default"].endWaitingElementResponse,e.top)},i.prototype.showWaitingAssertionRetriesStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingAssertionRetries,timeout:t},e.top)},i.prototype.hideWaitingAssertionRetriesStatus=function(t){var i={cmd:f["default"].endWaitingAssertionRetriesRequest,waitingSuccess:t};return g(i,f["default"].endWaitingAssertionRetriesResponse,e.top)},i}(m["default"]);t["default"]=_,i.exports=t["default"]},"index.js":function(t,n,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("./../deps/hammerhead"),u=a(r),l=s("./../deps/testcafe-core"),d=a(l),c=s("./progress-bar"),h=a(c),f=s("./messages"),p=a(f),m=u["default"].Promise,g=u["default"].shadowUI,v=u["default"].nativeMethods,_=u["default"].eventSandbox.message,E=u["default"].utils.browser,y=u["default"].utils.featureDetection,C=u["default"].eventSandbox.listeners,w=d["default"].styleUtils,b=d["default"].eventUtils,x=d["default"].domUtils,S="status-bar",B="container",I="icon",T="info-container",R="fixture-container",D="fixture",M="user-agent",W="status-container",A="buttons",V="button-icon",U="resume",P="step",O="status",q="only-icon",j="only-buttons",F="icon-buttons",L="icon-status",k="waiting-element-failed",z="waiting-element-success",H="Loading Web Page...",N="Waiting for an element to appear...",X="Waiting for an assertion execution...",Y="Debugging test...",G=720,K=380,J=540,Q=330,Z=300,$=500,tt=10,et=function(){function t(e,i,n){o(this,t),this.userAgent=e,this.fixtureName=i,this.testName=n,this.statusBar=null,this.container=null,this.infoContainer=null,this.icon=null,this.fixtureContainer=null,this.resumeButton=null,this.stepButton=null,this.statusDiv=null,this.buttons=null,this.progressBar=null,this.animationInterval=null,this.showingTimeout=null,this.created=!1,this.showing=!1,this.hidding=!1,this.debugging=!1,this.waiting=!1,this.assertionRetries=!1,this._createBeforeReady(),this._initChildListening()}return t.prototype._createFixtureArea=function(){this.infoContainer=i.createElement("div"),g.addClass(this.infoContainer,T),this.container.appendChild(this.infoContainer),this.icon=i.createElement("div"),g.addClass(this.icon,I),this.infoContainer.appendChild(this.icon),this.fixtureContainer=i.createElement("div"),g.addClass(this.fixtureContainer,R),this.infoContainer.appendChild(this.fixtureContainer);var t=i.createElement("div");t.textContent=this.fixtureName+" - "+this.testName,g.addClass(t,D),this.fixtureContainer.appendChild(t);var e=i.createElement("div");e.textContent=this.userAgent,g.addClass(e,M),this.fixtureContainer.appendChild(e)},t.prototype._createStatusArea=function(){var t=i.createElement("div");g.addClass(t,W),this.container.appendChild(t),this.statusDiv=i.createElement("div"),this.statusDiv.textContent=H,g.addClass(this.statusDiv,O),t.appendChild(this.statusDiv),this.buttons=i.createElement("div"),g.addClass(this.buttons,A),t.appendChild(this.buttons),this.resumeButton=this._createButton("Resume",U),this.stepButton=this._createButton("Step",P)},t.prototype._createButton=function(t,e){var n=i.createElement("div"),s=i.createElement("div"),a=i.createElement("span");return a.textContent=t,g.addClass(n,"button"),g.addClass(n,e),g.addClass(s,V),E.isSafari&&(a.style.position="relative",a.style.top="1px"),n.appendChild(s),n.appendChild(a),this.buttons.appendChild(n),n},t.prototype._create=function(){this.statusBar=i.createElement("div"),this.container=i.createElement("div"),g.addClass(this.statusBar,S),g.addClass(this.container,B),this.statusBar.appendChild(this.container),this._createFixtureArea(),this._createStatusArea(),this.progressBar=new h["default"](this.statusBar),this.progressBar.indeterminateIndicator.start(),this.progressBar.show(),g.getRoot().appendChild(this.statusBar),this._recalculateSizes(),this._bindHandlers(),this.created=!0},t.prototype._createBeforeReady=function(){var t=this;this.created||e!==e.top||(i.body?this._create():v.setTimeout.call(e,function(){return t._createBeforeReady()},0))},t.prototype._setSizeStyle=function(t){var e=this.debugging?J:K;t>G?(g.removeClass(this.statusBar,q),g.removeClass(this.statusBar,j),g.removeClass(this.statusBar,F),g.removeClass(this.statusBar,L)):t<G&&t>e?(g.removeClass(this.statusBar,q),g.removeClass(this.statusBar,j),g.removeClass(this.statusBar,F),g.addClass(this.statusBar,L)):this.debugging?t<e&&t>Q?(g.removeClass(this.statusBar,q),g.removeClass(this.statusBar,j),g.addClass(this.statusBar,F),g.removeClass(this.statusBar,L)):t<Q&&(g.removeClass(this.statusBar,q),g.addClass(this.statusBar,j),g.removeClass(this.statusBar,F),g.removeClass(this.statusBar,L)):t<e&&(g.removeClass(this.statusBar,j),g.removeClass(this.statusBar,L),g.removeClass(this.statusBar,F),g.addClass(this.statusBar,q))},t.prototype._setFixtureContainerWidth=function(){if("none"!==w.get(this.fixtureContainer,"display")){var t=w.getWidth(this.infoContainer),e=w.getWidth(this.icon),i=w.getElementMargin(this.icon),n=t-e-i.left-i.right-1;w.set(this.fixtureContainer,"width",n+"px")}},t.prototype._setStatusDivLeftMargin=function(){if("none"!==w.get(this.statusDiv,"display")){var t=w.getWidth(this.infoContainer),e=w.getWidth(this.container),i=w.getWidth(this.statusDiv),n=e/2-i/2-t;this.debugging&&(n-=w.getWidth(this.buttons)/2),w.set(this.statusDiv,"marginLeft",Math.max(Math.round(n),0)+"px")}},t.prototype._recalculateSizes=function(){var t=w.getWidth(e);w.set(this.statusBar,"width",t+"px"),this._setSizeStyle(t),this._setFixtureContainerWidth(),this._setStatusDivLeftMargin()},t.prototype._animate=function(t){var i=this,n=Date.now(),s=parseInt(w.get(this.statusBar,"opacity"),10)||0,a=0,o=0,r=0;this._stopAnimation(),this.animationInterval=v.setInterval.call(e,function(){a=Date.now()-n,o=Math.min(a/$,1),r=.5-Math.cos(o*Math.PI)/2,w.set(i.statusBar,"opacity",s+(t?r:-r)),1===o&&(i._stopAnimation(),i.showing=!1,i.hidding=!1)},tt)},t.prototype._stopAnimation=function(){this.animationInterval&&(v.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype._bindHandlers=function(){var t=this;C.initElementListening(e,["resize"]),C.addInternalEventListener(e,["resize"],function(){return t._recalculateSizes()}),b.bind(this.statusBar,"mouseover",function(){t.hidding||t.debugging||(t.showing=!1,t.hidding=!0,t._animate())}),b.bind(this.statusBar,"mouseout",function(e){t.showing||t.debugging||x.containsElement(t.statusBar,e.relatedTarget)||(t.hidding=!1,t.showing=!0,t._animate(!0))})},t.prototype._initChildListening=function(){var t=this;_.on(_.SERVICE_MSG_RECEIVED_EVENT,function(e){var i=e.message;i.cmd===p["default"].startWaitingElement?t.showWaitingElementStatus(i.timeout):i.cmd===p["default"].endWaitingElementRequest?t.hideWaitingElementStatus(i.waitingSuccess).then(function(){return _.sendServiceMsg({cmd:p["default"].endWaitingElementResponse},e.source)}):i.cmd===p["default"].startWaitingAssertionRetries?t.showWaitingAssertionRetriesStatus(i.timeout):i.cmd===p["default"].endWaitingAssertionRetriesRequest&&t.hideWaitingAssertionRetriesStatus(i.waitingSuccess).then(function(){return _.sendServiceMsg({cmd:p["default"].endWaitingAssertionRetriesResponse},e.source)})})},t.prototype._resetState=function(){this.debugging=!1,this.buttons.style.display="none",this.statusDiv.textContent="",this.progressBar.hide()},t.prototype._showWaitingStatus=function(){this.statusDiv.textContent=this.assertionRetries?X:N,this._setStatusDivLeftMargin(),this.progressBar.show()},t.prototype._hideWaitingStatus=function(t){var i=this;return new m(function(n){v.setTimeout.call(e,function(){return i.waiting||i.debugging?void n():(g.removeClass(i.statusBar,z),g.removeClass(i.statusBar,k),i.progressBar.determinateIndicator.reset(),i._resetState(),void n())},t?0:$)})},t.prototype._showDebuggingStatus=function(){var t=this;return new m(function(i){t.debugging=!0,t.statusDiv.textContent=Y,t.buttons.style.display="inline-block",t._recalculateSizes();var n=y.isTouchDevice?"touchstart":"mousedown",s=function a(s){var o=x.containsElement(t.resumeButton,s.target),r=x.containsElement(t.stepButton,s.target);o||r?(b.preventDefault(s),t._resetState(),C.removeInternalEventListener(e,[n],a),i(r)):x.containsElement(t.statusBar,s.target)&&b.preventDefault(s)};C.addInternalEventListener(e,[n],s)})},t.prototype._setWaitingStatus=function(t,i){var n=this;this.waiting=!0,this.progressBar.determinateIndicator.start(t,i),this.showingTimeout=v.setTimeout.call(e,function(){n.showingTimeout=null,n._showWaitingStatus()},Z)},t.prototype._resetWaitingStatus=function(t){this.waiting=!1,this.progressBar.determinateIndicator.stop(),t?g.addClass(this.statusBar,z):g.addClass(this.statusBar,k);var i=this.showingTimeout&&t;return this.showingTimeout&&(v.clearTimeout.call(e,this.showingTimeout),this.showingTimeout=null,t||this._showWaitingStatus()),this._hideWaitingStatus(i)},t.prototype.hidePageLoadingStatus=function(){this.created||this._create(),this.progressBar.indeterminateIndicator.stop(),this._resetState()},t.prototype.showDebuggingStatus=function(){return this._stopAnimation(),w.set(this.statusBar,"opacity",1),this._showDebuggingStatus()},t.prototype.showWaitingElementStatus=function(t){this.assertionRetries||this._setWaitingStatus(t)},t.prototype.hideWaitingElementStatus=function(t){return this.assertionRetries?m.resolve():this._resetWaitingStatus(t)},t.prototype.showWaitingAssertionRetriesStatus=function(t,e){this.assertionRetries=!0,this._setWaitingStatus(t,e)},t.prototype.hideWaitingAssertionRetriesStatus=function(t){var e=this;return this._resetWaitingStatus(t).then(function(){e.assertionRetries=!1})},t}();t["default"]=et,n.exports=t["default"]},"messages.js":function(t,e,i){t.__esModule=!0,t["default"]={startWaitingElement:"start-waiting-element",endWaitingElementRequest:"end-waiting-element-request",endWaitingElementResponse:"end-waiting-element-response",startWaitingAssertionRetries:"start-waiting-assertion-retries",endWaitingAssertionRetriesRequest:"end-waiting-assertion-retries-request",endWaitingAssertionRetriesResponse:"end-waiting-assertion-retries-response"},e.exports=t["default"]},"progress-bar":{"determinate-indicator.js":function(t,i,n){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n("../../deps/hammerhead"),r=s(o),u=n("../../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=r["default"].nativeMethods,h=l["default"].styleUtils,f="determinate",p=10,m=function(){function t(e,i){a(this,t),this.progressBar=e,this.firstValueElement=i,this.maxTimeout=null,this.startTime=null,this.animationInterval=null}return t.prototype._setCurrentProgress=function(){var t=(Date.now()-this.startTime)/this.maxTimeout,e=Math.min(Math.max(t,0),1),i=h.getWidth(this.progressBar),n=Math.round(i*e);h.set(this.firstValueElement,"width",n+"px")},t.prototype.start=function(t,i){var n=this;d.addClass(this.progressBar,f),this.maxTimeout=t,this.startTime=i||Date.now(),this._setCurrentProgress(),this.animationInterval=c.setInterval.call(e,function(){return n._setCurrentProgress()},p)},t.prototype.stop=function(){this.animationInterval&&(c.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype.reset=function(){h.set(this.firstValueElement,"width",0),d.removeClass(this.progressBar,f)},t}();t["default"]=m,i.exports=t["default"]},"indeterminate-indicator.js":function(t,i,n){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,i){return 3*Math.pow(1-t,2)*t*e+3*(1-t)*t*t*i+t*t*t}function r(t,e){var i=t<C.middle,n=i?C.start:C.middle,s=i?C.middle:C.end,a=e[n],o=e[s],r={x:n,y:a.left},u={x:s,y:o.left},l=m.getLineYByXCoord(r,u,t);r={x:n,y:a.right},u={x:s,y:o.right};var d=m.getLineYByXCoord(r,u,t);return{left:l,right:d}}t.__esModule=!0;var u=n("../../deps/hammerhead"),l=s(u),d=n("../../deps/testcafe-core"),c=s(d),h=l["default"].shadowUI,f=l["default"].nativeMethods,p=c["default"].styleUtils,m=c["default"].positionUtils,g={time:2800,points:[.815,.395],positionByCompletePercent:{0:{left:-35,right:100},.6:{left:100,right:-90},1:{left:100,right:-90}}},v={time:3e3,points:[.84,1],positionByCompletePercent:{0:{left:-200,right:100},.6:{left:107,right:-8},1:{left:107,right:-8}}},_=1e3,E=10,y=1950,C={start:0,middle:.6,end:1},w="indeterminate",b=function(){function t(e,i,n){a(this,t),this.progressBar=e,this.firstValue=i,this.secondValue=n,this.animationInterval=null,this.secondValueAnimationInterval=null,this.secondValueAnimationTimeout=null,this.restartAnimationTimeout=null}return t._updateValueAnimation=function(t,e,i){var n=i.time,s=i.points,a=i.positionByCompletePercent,u=Date.now()-t,l=u/n,d=o(l,s[0],s[1]),c=r(d,a),h=c.left,f=c.right;p.set(e,"left",Math.round(h)+"%"),p.set(e,"right",Math.round(f)+"%")},t.prototype._clearFirstValueAnimation=function(){this.animationInterval&&(f.clearInterval.call(e,this.animationInterval),this.animationInterval=null),p.set(this.firstValue,"left","-35%"),p.set(this.firstValue,"right","100%")},t.prototype._clearSecondValueAnimation=function(){this.secondValueAnimationInterval&&(f.clearInterval.call(e,this.secondValueAnimationInterval),this.secondValueAnimationInterval=null),p.set(this.secondValue,"left","-200%"),p.set(this.secondValue,"right","100%")},t.prototype._startFirstValueAnimation=function(){var i=this;this._clearFirstValueAnimation();var n=Date.now();this.animationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(n,i.firstValue,g);
},E)},t.prototype._startSecondValueAnimation=function(){var i=this;this._clearSecondValueAnimation();var n=Date.now();this.secondValueAnimationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(n,i.secondValue,v)},E)},t.prototype._startAnimation=function(){var t=this;this._startFirstValueAnimation(),this.secondValueAnimationTimeout=f.setTimeout.call(e,function(){return t._startSecondValueAnimation()},_),this.restartAnimationTimeout=f.setTimeout.call(e,function(){return t._startAnimation()},y)},t.prototype._stopAnimation=function(){this._clearFirstValueAnimation(),this._clearSecondValueAnimation(),this.secondValueAnimationTimeout&&(f.clearInterval.call(e,this.secondValueAnimationTimeout),this.secondValueAnimationTimeout=null),this.restartAnimationTimeout&&(f.clearInterval.call(e,this.restartAnimationTimeout),this.restartAnimationTimeout=null)},t.prototype.start=function(){h.addClass(this.progressBar,w),this._startAnimation()},t.prototype.stop=function(){h.removeClass(this.progressBar,w),this._stopAnimation()},t}();t["default"]=b,i.exports=t["default"]},"index.js":function(t,e,n){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n("../../deps/hammerhead"),r=s(o),u=n("../../deps/testcafe-core"),l=s(u),d=n("./determinate-indicator"),c=s(d),h=n("./indeterminate-indicator"),f=s(h),p=r["default"].shadowUI,m=l["default"].styleUtils,g="progress-bar",v="value-container",_="value",E=function(){function t(e){a(this,t),this.progressBar=null,this.firstValueElement=null,this.secondValueElement=null,this._create(e),this.determinateIndicator=new c["default"](this.progressBar,this.firstValueElement),this.indeterminateIndicator=new f["default"](this.progressBar,this.firstValueElement,this.secondValueElement)}return t.prototype._create=function(t){this.progressBar=i.createElement("div"),p.addClass(this.progressBar,g),t.appendChild(this.progressBar);var e=i.createElement("div");p.addClass(e,v),this.progressBar.appendChild(e),this.firstValueElement=i.createElement("div"),p.addClass(this.firstValueElement,_),e.appendChild(this.firstValueElement),this.secondValueElement=i.createElement("div"),p.addClass(this.secondValueElement,_),e.appendChild(this.secondValueElement)},t.prototype.show=function(){m.set(this.progressBar,"visibility","visible")},t.prototype.hide=function(){m.set(this.progressBar,"visibility","hidden")},t}();t["default"]=E,e.exports=t["default"]}}}}}}}})("testcafe-phoenix/src/client/ui/index")}t(window)}();